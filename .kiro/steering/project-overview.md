# StockSchool 项目总览

## 项目愿景
StockSchool是一个基于AI的量化投资系统，采用"学校"隐喻来构建智能股票分析和推荐平台。系统将股票视为"学生"，各种量化因子作为"老师"进行评分，AI模型作为"校长"进行综合决策。

## 核心架构理念

### 三层架构设计
1. **数据层** - 多维度数据获取和存储
   - Tushare为主数据源（财务、行情、基本面）
   - Akshare为辅数据源（情绪、热点、另类数据）
   - TimescaleDB时序数据库优化存储

2. **计算层** - 三大"教研组"因子计算
   - **技术面组**: RSI、MACD、布林带等技术指标
   - **基本面组**: PE、PB、ROE、财务质量等基本面因子
   - **情绪面组**: 资金流向、市场关注度、情绪指数等

3. **决策层** - AI"校长"智能决策
   - 机器学习模型训练和优化
   - 因子权重动态调整
   - 个性化投资策略定制

## 技术栈要求
- **数据库**: PostgreSQL + TimescaleDB扩展
- **Python版本**: 3.11
- **机器学习**: LightGBM, XGBoost, scikit-learn
- **可视化**: Streamlit, Plotly, matplotlib
- **部署**: Docker + docker-compose
- **监控**: 自研告警系统 + 性能监控

## 数据索引策略
- 必须按 `stock_code` + `end_date` 建立复合索引
- 使用TimescaleDB的create_hypertable进行时间分区
- 启用数据压缩优化存储性能

## 环境变量要求
- `TUSHARE_TOKEN`: Tushare API访问令牌
- `POSTGRES_PASSWORD`: 数据库密码
- `REDIS_PASSWORD`: Redis缓存密码

## 开发原则
1. **幂等性设计** - 所有数据同步操作支持重试和恢复
2. **增量更新** - 基于交易日历的智能增量同步
3. **异常处理** - 3σ原则异常检测和行业均值填充
4. **模块化** - 可插拔的因子计算模块设计
5. **可解释性** - 集成SHAP值分析提供模型解释

## 质量标准
- 单元测试覆盖率 > 80%
- 集成测试覆盖核心业务流程
- 代码符合PEP8规范
- 所有API接口提供完整文档
- 数据质量监控和告警机制